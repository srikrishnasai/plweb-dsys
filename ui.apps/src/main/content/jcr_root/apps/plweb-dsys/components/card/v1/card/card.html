<div data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
      data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html"
      data-sly-use.objRef="pl.web.dsys.core.models.CardModel"
      data-sly-use.imageurl="${'pl.web.dsys.core.helpers.ImageTransformHelper' @ transform='dsys-flexImg576w', nodeName='image', transparent=objRef.useTransparentImage}"
      data-sly-use.linkTarget="${'pl.web.dsys.core.helpers.LinkHelpers' @ url=objRef.cardWebpageTarget}"
      data-sly-call="${clientlib.all @ categories='plweb-dsys.card'}">
</div>
<sly data-sly-call="${templates.placeholder @ isEmpty = !objRef.cardTitle, classAppend='cmp-text'}"></sly>

<section class="card__main">
      <div class="card__icon card__box" data-sly-test="${!objRef.cardImage}">Place image</div>
      <div data-sly-test="${objRef.cardImage}" class="card__img-container">
            <img class="card__icon" alt="Icon"
                  src="${objRef.useOriginalImage ? objRef.cardImage : imageurl.transformedImageUrl}" />
      </div>
      <div class="card__border-for-no-img"></div>
      <h3 data-sly-test="${objRef.cardTitle}" class="card__title"> ${objRef.cardTitle}</h3>
      <div data-sly-test="${objRef.cardDescription}" class="card__subtitle">
            ${objRef.cardDescription @ context = 'html'}
      </div>
      <a target="${objRef.cardWebpageTabTarget ? '_blank' : ''}" data-sly-test="${objRef.cardWebpageTarget}"
            href="${linkTarget.linkURL}" class="card__link">
            ${objRef.cardWebpageTitle}
      </a>
</section>

<div data-sly-test="${wcmmode.edit || wcmmode.design}">
	<div class="inplace-image-edit-view">
		<div class="${imageurl.transformedImageUrl ? '' : 'cq-placeholder '}cq-dd-image" style="display:none"></div>
	</div>	 
</div>